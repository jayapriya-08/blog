---
title: "GitHub Actions: How to Create Pull Requests Automatically"
date: 2019-10-11T19:07:35+09:00
author: Peter Evans
description: "Making pull requests to a GitHub repository automatically with GitHub Actions"
keywords: ["github", "github actions", "workflow", "pull request", "automation", "ci", "bot"]
---

Introducing one of the first GitHub Actions I wrote and [published to the GitHub Marketplace](https://github.com/marketplace/actions/create-pull-request). A generic action to automatically create a pull request for changes to your repository in the Actions workspace.

### create-pull-request

Changes to a repository in the Actions workspace persist between steps in a workflow.
The [create-pull-request](https://github.com/peter-evans/create-pull-request) action is designed to be used in conjunction with other steps that modify or add files to your repository.
The local changes will be automatically committed to a new branch and a pull request created.

Create Pull Request action will:

1. Check for repository changes in the Actions workspace. This includes untracked (new) files as well as modified files.
2. Commit all changes to a new branch, or update an existing pull request branch.
3. Create a pull request to merge the new branch into the currently active branch executing the workflow.

There are many interesting use-cases for this type of action, such as...

- Process management bots
- Synchronization with external data sources
- Updating contract definitions (API, Swagger docs, etc.)
- Code linting/formatting
- Static analysis/fixes
- Scheduled process management

### Example workflow

Here is simple example that adds a dated report to a repository and raises a pull request.

```
on:
  schedule:
    - cron: '0 10 * * *'
name: create-pull-request workflow
jobs:
  createPullRequest:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v1
      - name: Create report file
        run: date +%s > report.txt
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v1.5.1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          COMMIT_MESSAGE: Add report file
          PULL_REQUEST_TITLE: '[Example] Add report file'
          PULL_REQUEST_BODY: >
            This PR is auto-generated by 
            [create-pull-request](https://github.com/peter-evans/create-pull-request).
          PULL_REQUEST_LABELS: report, automated pr
```

This is an example of what pull requests created with the action look like on GitHub.

<img src="/img/pull-request-example.png" alt="Pull Request Example" width="700">

See the [create-pull-request](https://github.com/peter-evans/create-pull-request) repository for the latest version and full usage details.
